<!DOCTYPE HTML>
<!--
	Dimension by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>打个∠先</title>
		<link rel="shortcut icon" href="images/clock.jpeg">
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
			<div id="wrapper">
					<header id="header">
						<div class="logo">
							<span class="icon brands fa-github"></span>
						</div>
						<div class="content">
							<div class="inner">
								<h1>打个JO先</h1>
								<p>自律 自强 自信 </br> 今天, 你打∠了吗 </p>
							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#fuck">戒导大赛</a></li>
								<li><a href="#history">英灵殿</a></li>
								<li><a href="#mark">备忘录</a></li>
								<!--<li><a href="#elements">元素</a></li>-->
							</ul>
						</nav>
					</header>
                	<div id="main">

						<article id="fuck">
							<h2 class="major">谁是戒导冠军</h2>
							<span class="image main"><img src="images/long.jpg" alt="" /></span>
							<h3 class="major">实时战况 - 当前轮次: 4</h3>
							<div class="table-wrapper">
								<table class="alt">
									<thead>
										<tr>
											<th>序号</th>
											<th>姓名</th>
											<th>当前成绩</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>0</td>
											<td id="name0"></td>
											<td id="clock0"></td>
										</tr>
										<tr>
											<td>1</td>
											<td id="name1"></td>
											<td id="clock1"></td>
										</tr>
										<tr>
											<td>2</td>
											<td id="name2"></td>
											<td id="clock2"></td>
										</tr>
										<tr>
											<td>3</td>
											<td id="name3"></td>
											<td id="clock3"></td>
										</tr>
										<tr>
											<td>4</td>
											<td id="name4"></td>
											<td id="clock4"></td>
										</tr>
										<tr>
											<td>5</td>
											<td id="name5"></td>
											<td id="clock5"></td>
										</tr>
										<tr>
											<td>6</td>
											<td id="name6"></td>
											<td id="clock6"></td>
										</tr>
									</tbody>
								</table>
								<ul>
									<li>时间没动的打了已经</li>
								</ul>
							</div>
							<br>

							<div>
								<h2 class="major" for="start">你也要来打个∠吗</h3>
								<label for="start">获取并复制时间戳，发给熊熊, 参加淫趴</label>
								<input type="text" id="start" placeholder="点击下方按钮获取时间戳"/>
							</div><br>
							<ul class="actions">
								<li><input type="submit" value="狠狠地...插入我" class="primary" onclick="join()"/></li>
							</ul>
							<br>

							<div>
								<h2 class="major" for="end">如果你打了∠</h3>
								<label for="end">输入序号获取当前成绩, 退出淫趴</label>
								<input type="text" id="end" placeholder="在这输入序号并点击按钮获取成绩"/>
								
							</div><br>
							<ul class="actions">
								<li><input type="submit" value="射射, 已经谢了" onclick="exit()" class="primary small"/></li>
								<!-- <input type="button" id="btn" class="button small" onclick="copy()" value="Copy"> -->
							</ul>

						</article>


						<article id="history">
							<h2 class="major">英灵殿</h2>
							<span class="image main"><img src="images/reward.jpg" alt="" /></span>
							<h3 class="major">登神长梯</h3>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>封号</th>
											<th>历史记录</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td id="best0"></td>
											<td id="history0"></td>
										</tr>
										<tr>
											<td id="best1"></td>
											<td id="history1"></td>
										</tr>
										<tr>
											<td id="best2"></td>
											<td id="history2"></td>
										</tr>
										<tr>
											<td id="best3"></td>
											<td id="history3"></td>
										</tr>
										<tr>
											<td id="best4"></td>
											<td id="history4"></td>
										</tr>
										<tr>
											<td id="best5"></td>
											<td id="history5"></td>
										</tr>
										<tr>
											<td id="best6"></td>
											<td id="history6"></td>
										</tr>
									</tbody>
									<!-- <tfoot>
										<tr>
											<td colspan="2"></td>
											<td>100.00</td>
										</tr>
									</tfoot> -->
								</table>
							</div>
						</article>
	
	
						<article id="mark">
							<h2 class="major">考研倒计时</h2>
							
							<h3>24考研倒计时</h3>
							<h1 id="countdown"></h1>
							<h3>25考研倒计时</h3>
							<h1 id="next"></h1>
						</article>
						
	
						

						
						
					</div>
					

					<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; Designed by: <a href="https://html5up.net/">HTML5 UP</a><br>Adapted by: <a href="https://northboat-docs.netlify.app/">NorthBoat</a></p>
					</footer>

			</div>

			<!-- BG -->
			<div id="bg"></div>

			<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

			<script>
				
				// 当前轮次排名
				let name = ["熊狗", "戴某", "刘狗", "彭奇", "末狗", "俊畜", "杨杨"]
				// 开始时间戳，0表示未参加，-1表示已退赛
				var start = [ 1677229975404, 0, 0, 1677230791123, 1677230254146, 1677230254146, 1676907104729 ];
				// 记录当前轮次已退赛的成绩，将变成下一轮的 round
				let reco = [ "", "", "", "", "", "", "", "" ];

				// 历史最佳排名
				let best_name = ["戴某", "刘狗", "熊狗", "俊畜", "末狗", "彭奇", "杨杨" ];
				let best = [ "31 天 02 小时 39 分钟 44 秒", "28 天 02 小时 39 分钟 44 秒", "18 天 09 小时 28 分钟 10 秒", "16 天 16 小时 31 分钟 60 秒", "10 天 04 小时 00 分钟 00 秒", "10 天 00 小时 00 分钟 00 秒", "00 天 00 小时 00 分钟 00 秒" ];
				
				// 23/12/24 8
				var d = 1703376000000;
				
				function init(){
					for(let i = 0; i < start.length; i++){
						
						// 倒计时
						setInterval(function(){countdown(d)}, 1000)
						
						// 历史最佳名字和成绩
						document.getElementById("best"+i).innerHTML = best_name[i];
						document.getElementById("history"+i).innerHTML = best[i];

						// 当前轮次名字
						document.getElementById("name"+i).innerHTML = name[i];
						
						// 实时成绩
						// 若起始时间戳为0,未参赛
						if(start[i] == 0){ document.getElementById("clock"+i).innerHTML = "未参赛"; }
						// 若起始时间戳为-1，已退赛
						else if(start[i] == -1){ document.getElementById("clock"+i).innerHTML = reco[i]; }
						// 打印时间差
						else { setInterval(function(){myTimer(start[i], i)}, 1000); }
					}
				}
				
				function countdown(date){
					let cur = new Date().getTime();
					let diff = parseInt((date-cur) / (1000*60*60*24))
					let content = document.getElementById("countdown").innerHTML
					document.getElementById("countdown").innerHTML = diff + "天";		
					document.getElementById("next").innerHTML = (diff+365) + "天";			
				}
				

				init();

				function getDiff(start) {
					let cur = new Date().getTime();
					diff = cur-start;
					var days = parseInt(diff / (1000 * 60 * 60 * 24));
					var hours = parseInt((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
					var minutes = parseInt((diff % (1000 * 60 * 60)) / (1000 * 60));
					var seconds = ((diff % (1000 * 60)) / 1000).toFixed(0);

					if(days < 10) { days = "0" + days; }
					if(hours < 10) { hours = "0" + hours; }
					if(minutes < 10) { minutes = "0" + minutes; }
					if(seconds < 10) { seconds = "0" + seconds; }

					return days + " 天 " + hours + " 小时 " + minutes + " 分钟 " + seconds + " 秒";
				}


				function exit(){
					console.log("hahaha");
					let index = document.getElementById("end").value;
					let s = start[index];
					if(s == 0){
						document.getElementById("end").value = "未参赛";
						return;
					}
					if(s == -1){
						document.getElementById("end").value = "打了已经";
						return;
					}
					let during = getDiff(s);
					document.getElementById("end").value = during;
				}
				

				function join(){
					var time = document.getElementById("start");
					time.value = new Date().getTime();
				}


				function myTimer(s, num){
					diff = getDiff(s);
					document.getElementById("clock" + num).innerHTML = diff;
				}

			</script>

	</body>
</html>
